$schema: https://json-schema.org/draft/2020-12/schema
$id: https://github.com/IBM/aspera-cli/tree/main/lib/aspera/transfer/sync_instance.schema.yaml
title: Aspera Sync job description (args)
description: Instance (global) and Session (per-sync) parameters for async, specific to `ascli`.
$comment: >-
  This spec is specific to `ascli`.
  The native async `conf` format is now preferred.
  `x-` fields are documented in `command_line_builder.rb`
type: object
properties:
  alt_logdir:
    type: string
    x-cli-option: true
  watchd:
    type: string
    x-cli-option: true
  apply_local_docroot:
    type: boolean
    x-cli-option: true
    x-cli-switch: true
  quiet:
    type: boolean
    x-cli-option: true
    x-cli-switch: true
  ws_connect:
    type: boolean
    x-cli-option: true
    x-cli-switch: true
  sessions:
    type: array
    items:
      description: Session parameters for async.
      type: object
      properties:
        name:
          type: string
          x-cli-option: true
        local_dir:
          type: string
          x-cli-option: true
        remote_dir:
          type: string
          x-cli-option: true
        local_db_dir:
          type: string
          x-cli-option: true
        remote_db_dir:
          type: string
          x-cli-option: true
        host:
          type: string
          x-cli-option: true
          x-ts-name: remote_host
        user:
          type: string
          x-cli-option: true
          x-ts-name: remote_user
        private_key_paths:
          type: array
          x-cli-option: "--private-key-path"
        direction:
          type: string
          x-cli-option: true
        checksum:
          type: string
          x-cli-option: true
        tags:
          type: object
          x-cli-option: "--tags64"
          x-cli-convert: json64
          x-ts-name: tags
        tcp_port:
          type: integer
          x-cli-option: true
          x-ts-name: ssh_port
        rate_policy:
          type: string
          x-cli-option: true
        target_rate:
          type: string
          x-cli-option: true
        cooloff:
          type: integer
          x-cli-option: true
        pending_max:
          type: integer
          x-cli-option: true
        scan_intensity:
          type: string
          x-cli-option: true
        cipher:
          type: string
          x-cli-option: true
          x-cli-convert: remove_hyphen
          x-ts-name: cipher
        transfer_threads:
          type: integer
          x-cli-option: true
        preserve_time:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
          x-ts-name: preserve_times
        preserve_access_time:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
        preserve_modification_time:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
        preserve_uid:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
          x-ts-name: preserve_file_owner_uid
        preserve_gid:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
          x-ts-name: preserve_file_owner_gid
        create_dir:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
          x-ts-name: create_dir
        reset:
          type: boolean
          x-cli-option: true
          x-cli-switch: true
        remote_password:
          type: string
          x-cli-envvar: ASPERA_SCP_PASS
          x-ts-name: remote_password
        cookie:
          type: string
          x-cli-envvar: ASPERA_SCP_COOKIE
          x-ts-name: cookie
        token:
          type: string
          x-cli-envvar: ASPERA_SCP_TOKEN
          x-ts-name: token
        license:
          type: string
          x-cli-envvar: ASPERA_SCP_LICENSE
